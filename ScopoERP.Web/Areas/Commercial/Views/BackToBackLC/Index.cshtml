@{
    ViewBag.Title = "Back To Back LC";
}

<div class="row" ng-app="scopoApp" ng-controller="backToBackLCCtrl" ng-init="init()" ng-cloak>
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-5">
                        <select class="form-control select2" ng-model="selectedJob" ng-change="onJobChange(selectedJob)">
                            <option value="">Select Job</option>
                            <option ng-repeat="job in jobList" value="{{job.Value}}">{{job.Text}}</option>
                        </select>
                    </div>

                    <div class="col-md-5">
                        <select class="form-control select2" data-placeholder="Select Back To Back LC"
                                ng-model="selectedB2B" ng-change="onBackToBackSelect(selectedB2B)"
                                ng-options="lc as lc.BackToBackLCNo for lc in backToBackLCList">
                            <option value="">Select Back To Back LC</option>
                        </select>
                    </div>

                    <div class="col-md-2">
                        <button class="btn btn-success btn-block waves-effect waves-light" ng-click="newClicked()">Create New</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12">
        <div class="card card-solid">
            <form name="backToBackLCForm" class="form-horizontal" ng-submit="save()" novalidate>
                <div class="card-body">
                    <div class="form-group row">
                        <label class="control-label col-md-3">Back to Back LC No</label>
                        <div class="col-md-3">
                            <input class="form-control" type="text" ng-model="lc.BackToBackLCNo" required />
                        </div>
                        <label class="col-md-3">Back to Back LC Date</label>
                        <div class="col-md-3">
                            <input id="BackToBackLCDate" class="form-control datepicker" type="text" ng-model="lc.BackToBackLCDate"
                                   required />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-3">Back to Back LC Shipped Date</label>
                        <div class="col-md-3">
                            <input id="BackToBackShippedDate" class="form-control datepicker" type="text" ng-model="lc.BackToBackShippedDate"
                                   required />
                        </div>

                        <label class="col-md-3">Sight Days</label>
                        <div class="col-md-3">
                            <input class="form-control" type="text" ng-model="lc.SightDays" required />
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-3">Back to Back LC Value</label>
                        <div class="col-md-3">
                            <input class="form-control" type="text" ng-model="lc.BackToBackLCValue" required />
                        </div>

                        <label class="col-md-3">Back to Back LC Type</label>
                        <div class="col-md-3">
                            <select class="form-control" type="text" ng-model="lc.LCTypeID" ng-options="type.Value as type.Text for type in lcTypeList" required></select>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="control-label col-md-3">PI</label>
                        <div class="col-md-3">
                            <select class="form-control select2" ng-model="selectedPI">
                                <option ng-repeat="pi in piDropDownList" value="{{pi}}">{{pi.PINo}}</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <button id="addPiRow" type="button" class="btn btn-success waves-effect waves-light" ng-click="mapPIwithLC()">
                                <span class="fa fa-plus"></span>
                            </button>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-md-12 table-responsive">
                            <table class="table table-bordered table-striped" id="table">
                                <thead>
                                    <tr>
                                        <th>PI No</th>
                                        <th>PI Value</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="pi in lc.PIList| filter:searchPI">
                                        <td>
                                            {{pi.PINo}}
                                        </td>
                                        <td>
                                            {{pi.PIValue}}
                                        </td>
                                        <td>
                                            <button type="button" class="btn btn-danger waves-effect waves-light" ng-click="deletePIClicked($index)">
                                                <span class="fa fa-trash"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="form-group row">
                        <div class="col-md-2">
                            <button ng-click="newClicked()" class="btn btn-dark btn-block"> Reset</button>
                        </div>
                        <div class="col-md-2">
                            <button type="submit" class="btn btn-success btn-block"> Save</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>